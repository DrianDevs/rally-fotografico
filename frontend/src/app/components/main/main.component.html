<div class="hero-container">
  <div class="hero-content">
    <h1>Bienvenido al Rally Fotogr√°fico</h1>
    <p>Disponible desde el 15 de junio al 3 de julio</p>
    <p>¬°Sube tus fotos favoritas de Punta Cana!</p>
  </div>
  <div class="wave wave1"></div>
  <div class="wave wave2"></div>
  <div class="wave wave3"></div>
  <div class="wave wave4"></div>
</div>

<div class="info-section">
  <div class="info-content">
    <div class="info-text">
      <h2>¬øQu√© es el Rally Fotogr√°fico?</h2>
      <p>
        El Rally Fotogr√°fico de Punta Cana es un evento √∫nico que celebra la belleza natural y cultural
        de uno de los destinos m√°s espectaculares del Caribe. Durante este emocionante per√≠odo,
        fot√≥grafos aficionados y profesionales tienen la oportunidad de capturar la esencia
        de Punta Cana a trav√©s de sus lentes.
      </p>
      <p>
        Desde sus playas de arena blanca y aguas cristalinas hasta sus exuberantes paisajes tropicales,
        cada rinc√≥n de Punta Cana ofrece una historia visual que contar. El rally incluye diferentes
        categor√≠as como paisajes naturales, vida silvestre, cultura local, arquitectura colonial
        y momentos cotidianos que reflejan la vida aut√©ntica de la regi√≥n.
      </p>
      <p>
        Los participantes pueden explorar diversos locations ic√≥nicos como Playa B√°varo,
        el Hoyo Azul, los manglares, plantaciones de ca√±a de az√∫car, pueblos pesqueros tradicionales
        y sitios hist√≥ricos. Cada fotograf√≠a enviada ser√° evaluada por un panel de expertos
        que valorar√° la creatividad, composici√≥n, t√©cnica y la capacidad de transmitir
        la esencia √∫nica de Punta Cana.
      </p>
      <p>
        ¬°√önete a esta aventura fotogr√°fica y comparte tu visi√≥n √∫nica de este para√≠so tropical!
        Los mejores trabajos ser√°n premiados y exhibidos en una galer√≠a especial.
      </p>
    </div>
    <div class="info-image">
      <img src="/uploads/photo_682a21038a67f9.30922357.jpg" alt="Fotograf√≠a del Rally de Punta Cana" />
    </div>
  </div>
</div>

<div class="gallery-section">
  <div class="gallery-header">
    <h2>Galer√≠a de Fotos Aceptadas</h2>
    <p>Descubre las mejores fotograf√≠as del Rally Fotogr√°fico de Punta Cana</p>
  </div>

  <div class="sort-buttons">
    <button class="sort-button" [class.active]="sortBy === 'popular'" (click)="setSortBy('popular')">
      üî• Populares
    </button>
    <button class="sort-button" [class.active]="sortBy === 'recent'" (click)="setSortBy('recent')">
      ‚è∞ Recientes
    </button>
  </div>

  <div class="gallery-grid">
    @for (photo of acceptedPhotos; track photo.id) {
    <div class="photo-card">
      <div class="photo-container" (click)="openImageViewer(getPhotoUrl(photo.file_path), photo.title)">
        <img [src]="getPhotoUrl(photo.file_path)" [alt]="photo.title" class="photo-image" />
      </div>
      <div class="photo-info">
        <div class="photo-header">
          <span class="author-name">{{ photo.user_name }}</span>
          <div class="photo-actions">
            <button class="like-button" (click)="likePhoto(photo.id)">
              <span class="heart">‚ù§Ô∏è</span>
              <span class="like-count">{{ photo.votes_count || 0 }}</span>
            </button>
          </div>
        </div>
        <h3 class="photo-title">{{ photo.title }}</h3>
        <p class="photo-description">{{ photo.description }}</p>
      </div>
    </div>
    }

    @if (acceptedPhotos.length === 0) {
    <div class="no-photos">
      <p>No hay fotos aceptadas a√∫n. ¬°S√© el primero en participar!</p>
    </div>
    }
  </div>
</div>

<app-image-viewer [isOpen]="selectedImage !== null" [imageUrl]="selectedImage?.url || ''"
  [imageAlt]="selectedImage?.alt || ''" (closeViewer)="closeImageViewer()">
</app-image-viewer>